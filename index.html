<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Spin & Collect</title>
<style>
    body { font-family: sans-serif; text-align: center; background: #111; color: #fff; }
    #wheelContainer { position: relative; width: 300px; height: 300px; margin: 20px auto; }
    #wheel { width: 100%; height: 100%; border-radius: 50%; border: 10px solid #555; background: conic-gradient(#ff0000 0deg 60deg, #00ff00 60deg 120deg, #0000ff 120deg 180deg, #ffff00 180deg 240deg, #00ffff 240deg 300deg, #ff00ff 300deg 360deg); transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1); }
    #pointer { position: absolute; top: 0; left: 50%; width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-bottom: 30px solid white; transform: translateX(-50%); }
    button { padding: 10px 20px; font-size: 18px; cursor: pointer; }
    #collection { margin-top: 20px; }
</style>
</head>
<body>
    <h1>Spin & Collect Cards</h1>
    <div id="wheelContainer">
        <div id="pointer"></div>
        <div id="wheel"></div>
    </div>
    <button id="spinButton">SPIN</button>
    <div id="result"></div>
    <div id="collection"><h2>Your Collection</h2><ul id="collectionList"></ul></div>

<script>
const prizes = [
    "💰 EP",
    "💎 EC",
    "🪙 Discord Coin",
    "🥉 Bronze Badge Card",
    "🥈 Silver Badge Card",
    "🥇 Gold Badge Card",
    "🏆 HoF Badge Card",
    "🔧 Upgrade Badge",
    "⚡ Basic Attribute",
    "⚡ Standard Attribute",
    "⚡ Premium Attribute",
    "⬆️ Increase Attribute Limit",
    "🟡 Hotzone Neutral",
    "🔵 Hotzone Cold",
    "🔴 Hotzone Hot",
    "❄️ Cold Zone Removal",
    "💥 Dunk Package",
    "🩰 Layup Package"
];
const wheel = document.getElementById('wheel');
const result = document.getElementById('result');
const spinButton = document.getElementById('spinButton');
const collectionList = document.getElementById('collectionList');

let collection = JSON.parse(localStorage.getItem('collection')) || [];
updateCollectionUI();

spinButton.addEventListener('click', () => {
    spinButton.disabled = true;
    result.textContent = '';

    const spins = 5; // rounds before stopping
    const prizeIndex = Math.floor(Math.random() * prizes.length);
    const segmentAngle = 360 / prizes.length;
    const stopAngle = (360 - (prizeIndex * segmentAngle) - (segmentAngle / 2)) + (spins * 360);

    wheel.style.transform = `rotate(${stopAngle}deg)`;

    setTimeout(() => {
        const prize = prizes[prizeIndex];
        result.textContent = `You won: ${prize}`;
        collection.push(prize);
        localStorage.setItem('collection', JSON.stringify(collection));
        updateCollectionUI();
        spinButton.disabled = false;
    }, 4000); // match wheel transition duration
});

function updateCollectionUI() {
    collectionList.innerHTML = '';
    collection.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = item;
        const useButton = document.createElement('button');
        useButton.textContent = 'Use';
        useButton.style.marginLeft = '10px';
        useButton.addEventListener('click', () => {
            collection.splice(index, 1);
            localStorage.setItem('collection', JSON.stringify(collection));
            updateCollectionUI();
        });
        li.appendChild(useButton);
        collectionList.appendChild(li);
    });
}
</script>
</body>
</html>
